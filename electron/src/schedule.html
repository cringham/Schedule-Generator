<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <title>CPSC Department Schedule Generator</title>
    <link rel="stylesheet" type="text/css" href="stylesheet.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
</head>

<body>
    <div class="header">
        <h1><a href="index.html">CPSC Department Schedule Generator</a></h1>
    </div>
    <div>
        <button id="Download" class="btn">
            <i class="fa fa-download"></i> Download Schedule
        </button>
        <button id="Professor Table" class="btn" style="float: right;">
            <a href="prof_tables.html" style="text-decoration:none" class="btn">Professor Schedule</a>
        </button>
        <table id="schedule_table">
            <thead>
                <tr>
                    <th rowspan="2" scope="col">
                        Instructors
                        <a href="prof_data.html"><img class="icon" src="images/edit_icon.png" height="25px" width="25px"></a>
                    </th>
                    <th colspan="5" scope="colgroup">Office Hours</th>
                    <th rowspan="2" scope="col">Course(s)</th>
                    <th rowspan="2" scope="col">Times/Days of Classes</th>
                    <th rowspan="2" scope="col">Rm. No.</th>
                </tr>
                <tr>
                    <th scope="col">M</th>
                    <th scope="col">T</th>
                    <th scope="col">W</th>
                    <th scope="col">Th</th>
                    <th scope="col">F</th>
                </tr>
            </thead>
            <tbody contenteditable="true">
                <tr>
                    <td rowspan="4">Ian Finlayson</td>
                    <td rowspan="4">12 - 2</td>
                    <td rowspan="4"></td>
                    <td rowspan="4">3 - 4</td>
                    <td rowspan="4">12 - 2</td>
                    <td rowspan="4"></td>
                </tr>
                <tr>
                    <td>CPSC 414</td>
                    <td>11am - 12pm MW</td>
                    <td>Trinkle B16</td>
                </tr>
                <tr>
                    <td>CPSC 110</td>
                    <td>9:30am - 11am TR</td>
                    <td>Monroe 112</td>
                </tr>
                <tr>
                    <td>CPSC 240</td>
                    <td>2pm - 3pm MWF</td>
                    <td>Trinkle B6</td>
                </tr>
            </tbody>
            <tbody contenteditable="true">
                <tr>
                    <td rowspan="4">Ian Finlayson</td>
                    <td rowspan="4">12 - 2</td>
                    <td rowspan="4"></td>
                    <td rowspan="4">3 - 4</td>
                    <td rowspan="4">12 - 2</td>
                    <td rowspan="4"></td>
                </tr>
                <tr>
                    <td>CPSC 414</td>
                    <td>11am - 12pm MW</td>
                    <td>Trinkle B16</td>
                </tr>
                <tr>
                    <td>CPSC 110</td>
                    <td>9:30am - 11am TR</td>
                    <td>Monroe 112</td>
                </tr>
                <tr>
                    <td>CPSC 240</td>
                    <td>2pm - 3pm MWF</td>
                    <td>Trinkle B6</td>
                </tr>
            </tbody>
        </table>
    </div>
    <script>
    window.$ = window.jQuery = require('jquery');
    </script>
    <script src="generateDepartmentTable.js" type="text/javascript"></script>
    <script>
    window.$ = window.jQuery = require('jquery');
    </script>
    <script type="text/javascript">
    $('#Download').click(function() {

        const html2canvas = require("html2canvas");
        html2canvas(document.querySelector('#schedule_table')).then(function(canvas) {
            console.log(canvas);
            saveAs(canvas.toDataURL(), 'file-name.png');
        });
    });

    function saveAs(uri, filename) {

        var link = document.createElement('a');
        if (typeof link.download === 'string') {
            link.href = uri;
            link.download = filename;
            //Firefox requires the link to be in the body
            document.body.appendChild(link);
            //simulate click
            link.click();
            //remove the link when done
            document.body.removeChild(link);
        } else {
            window.open(uri);
        }
    }
    </script>
</body>

</html>